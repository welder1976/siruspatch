<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="MailFrame.lua"/>
	<CheckButton name="SendMailRadioButtonTemplate" inherits="UIRadioButtonTemplate" virtual="true">
		<Scripts>
			<OnClick>
				SendMailRadioButton_OnClick(self:GetID());
				SendMailFrame_CanSend();
			</OnClick>
		</Scripts>
	</CheckButton>
	<Button name="MailItemTemplate" enableMouse="true" hidden="true" virtual="true">
		<Size x="316" y="45"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentBackground" parentKey="Background">
					<Size x="340" y="58"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="-12" y="6" />
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture name="$parentCODTexture" parentKey="CODTexture" hidden="true">
					<Size x="180" y="45"/>
					<Anchors>
						<Anchor point="RIGHT" x="-10" y="-2" />
					</Anchors>
				</Texture>
				<Texture name="$parentServerCornerTexture" parentKey="ServerCornerTexture" hidden="true">
					<Size x="16" y="26"/>
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="2" y="0" />
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<Texture name="$parentBackgroundOverlay" parentKey="BackgroundOverlay" alpha="0.7" hidden="true">
					<Size x="340" y="58"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="-12" y="6" />
					</Anchors>
				</Texture>
				<Texture name="$parentBackgroundHighlight" parentKey="BackgroundHighlight" alpha="0.1" hidden="true">
					<Size x="340" y="58"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="-12" y="6" />
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parentSender" parentKey="Sender" inherits="GameFontNormal" justifyH="LEFT">
					<Size x="200" y="16"/>
					<Anchors>
						<Anchor point="LEFT" x="47" y="8"/>
					</Anchors>
				</FontString>
				<FontString name="$parentSubject" parentKey="Subject" inherits="GameFontNormalSmall" maxlines="1" justifyV="TOP" justifyH="LEFT">
					<Size x="248" y="0"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parentSender" relativePoint="BOTTOMLEFT" x="0" y="-2"/>
					</Anchors>
					<Color r="1" g="1" b="1"/>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentExpireTime" parentKey="ExpireTime">
				<Size x="100" y="16"/>
				<Anchors>
					<Anchor point="TOPRIGHT" x="-4" y="-8"/>
				</Anchors>
				<Scripts>
					<OnEnter>
						if ( not self.tooltip ) then
							return;
						end
						GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
						GameTooltip:SetText(self.tooltip);
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
				<NormalFont style="GameFontHighlightSmallRight"/>
				<PushedTextOffset x="0" y="0"/>
			</Button>
			<CheckButton name="$parentButton" parentKey="Button">
				<Size x="37" y="37"/>
				<Anchors>
					<Anchor point="TOPLEFT" x="4" y="-4"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="$parentIcon" parentKey="Icon" setAllPoints="true"/>
					</Layer>
					<Layer level="ARTWORK">
						<Texture name="$parentIconBorder" parentKey="IconBorder">
							<Size x="42" y="42"/>
							<Anchors>
								<Anchor point="CENTER" relativeTo="$parentIcon" relativePoint="CENTER" x="0" y="0" />
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="OVERLAY">
						<FontString name="$parentCount" parentKey="Count" inherits="NumberFontNormal" justifyH="RIGHT">
							<Anchors>
								<Anchor point="BOTTOMRIGHT" x="-2" y="2"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self.IconBorder:SetAtlas("TalkingHeads-Alliance-PortraitFrame")
						self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
					</OnLoad>
					<OnClick>
						local modifiedClick = IsModifiedClick("MAILAUTOLOOTTOGGLE");
						if ( modifiedClick ) then
							InboxFrame_OnModifiedClick(self, self.index);
						else
							if IsControlKeyDown() then
								if S_IsDevClient and S_IsDevClient() then
									if InboxFrame.openMailID and InboxFrame.openMailID == self.index then
										InboxFrame.openMailID = nil
										HideUIPanel(OpenMailFrame)
									end
									DeleteInboxItem(self.index)
								else
									if InboxItemCanDelete(self.index) then
										local popup = StaticPopup_Show("FAST_DELETE_MAIL")
										popup.data = self.index
									end
								end
							else
								InboxFrame_OnClick(self, self.index);
							end
						end
					</OnClick>
					<OnEnter>
						InboxFrameItem_OnEnter(self, motion);
					</OnEnter>
					<OnUpdate>
						if ( GameTooltip:IsOwned(self) ) then
							InboxFrameItem_OnEnter(self);
						end
					</OnUpdate>
					<OnLeave>
						GameTooltip:Hide();
						SetMoneyFrameColor("GameTooltipMoneyFrame1", "white");
					</OnLeave>
				</Scripts>
				<HighlightTexture file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD"/>
				<CheckedTexture alphaMode="ADD" file="Interface\Buttons\CheckButtonHilight"/>
			</CheckButton>
		</Frames>
		<Scripts>
			<OnLoad>
				self.BackgroundHighlight:SetAtlas("TalkingHeads-TextBackground")
				self.BackgroundOverlay:SetAtlas("TalkingHeads-TextBackground")
				self.ServerCornerTexture:SetAtlas("TalkingHeads-Corner")
				self.CODTexture:SetAtlas("MailFrame_COD_Label")
			</OnLoad>
			<OnEnter>
				self.BackgroundHighlight:Show()
			</OnEnter>
			<OnLeave>
				if self.Button:IsMouseOver() or self.ExpireTime:IsMouseOver() then
					return
				end

				self.BackgroundHighlight:Hide()
			</OnLeave>
			<OnMouseUp>
				local modifiedClick = IsModifiedClick("MAILAUTOLOOTTOGGLE");
				if ( modifiedClick ) then
					InboxFrame_OnModifiedClick(self.Button, self.Button.index);
				else
					if IsControlKeyDown() then
						if S_IsDevClient and S_IsDevClient() then
							DeleteInboxItem(self.Button.index)
						else
							if InboxItemCanDelete(self.Button.index) then
								local popup = StaticPopup_Show("FAST_DELETE_MAIL")
								popup.data = self.Button.index
							end
						end
					else
						self.Button:SetChecked(not self.Button:GetChecked())
						InboxFrame_OnClick(self.Button, self.Button.index)
					end
				end
			</OnMouseUp>
		</Scripts>
	</Button>
	<CheckButton name="StationeryPopupButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="36" y="36"/>
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\Buttons\UI-EmptySlot-Disabled">
					<Size>
						<AbsDimension x="64" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="CENTER">
							<Offset>
								<AbsDimension x="0" y="-1"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
				<Texture name="$parentNameFrame" file="Interface\QuestFrame\UI-QuestItemNameFrame">
					<Size>
						<AbsDimension x="128" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativePoint="RIGHT">
							<Offset>
								<AbsDimension x="-10" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
				<FontString name="$parentName" inherits="GameFontNormalSmall" justifyH="LEFT">
					<Size>
						<AbsDimension x="90" y="36"/>
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentNameFrame">
							<Offset>
								<AbsDimension x="15" y="5"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Frame name="$parentMoneyFrame" inherits="SmallMoneyFrameTemplate">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="$parentNameFrame" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="12" y="14"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						SmallMoneyFrame_OnLoad(self);
						MoneyFrame_SetType(self, "STATIC");
					</OnLoad>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnClick>
				StationeryPopupButton_OnClick(self, button, down);
			</OnClick>
		</Scripts>
		<NormalTexture name="$parentIcon">
			<Size>
				<AbsDimension x="36" y="36"/>
			</Size>
			<Anchors>
				<Anchor point="CENTER">
					<Offset>
						<AbsDimension x="0" y="-1"/>
					</Offset>
				</Anchor>
			</Anchors>
		</NormalTexture>
		<HighlightTexture alphaMode="ADD" file="Interface\Buttons\ButtonHilight-Square"/>
		<CheckedTexture alphaMode="ADD" file="Interface\Buttons\CheckButtonHilight"/>
	</CheckButton>
	<Button name="SendMailAttachment" virtual="true">
		<Size>
			<AbsDimension x="37" y="37"/>
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\Buttons\UI-Slot-Background">
					<Size>
						<AbsDimension x="39" y="39"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="-2" y="2"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0" right="0.640625" top="0" bottom="0.640625"/>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<FontString name="$parentCount" inherits="NumberFontNormal" justifyH="RIGHT">
					<Anchors>
						<Anchor point="BOTTOMRIGHT">
							<Offset>
								<AbsDimension x="-5" y="2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnClick>
				SendMailAttachmentButton_OnClick(self, button, down);
			</OnClick>
			<OnDragStart>
				SendMailAttachmentButton_OnClick(self, button);
			</OnDragStart>
			<OnReceiveDrag>
				SendMailAttachmentButton_OnClick(self);
			</OnReceiveDrag>
			<OnLoad>
				self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnEnter>
				SendMailAttachment_OnEnter(self, motion);
			</OnEnter>
			<OnUpdate>
				if ( GameTooltip:IsOwned(self) ) then
					SendMailAttachment_OnEnter(self);
				end
			</OnUpdate>
			<OnLeave>
				GameTooltip:Hide();
			</OnLeave>
		</Scripts>
		<HighlightTexture alphaMode="ADD" file="Interface\Buttons\ButtonHilight-Square"/>
	</Button>
	<Button name="OpenMailAttachment" inherits="ItemButtonTemplate" virtual="true">
		<Scripts>
			<OnLoad>
				self:RegisterEvent("MAIL_INBOX_UPDATE");
				self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
			</OnLoad>
			<OnEvent>
				--GameTooltip:Hide();
				if ( GameTooltip:IsOwned(self) ) then
					GameTooltip:SetInboxItem(InboxFrame.openMailID, self:GetID());
					GameTooltip:Show();
				end
			</OnEvent>
			<OnClick>
				if ( IsModifiedClick() ) then
					HandleModifiedItemClick(GetInboxItemLink(InboxFrame.openMailID, self:GetID()));
				else
					OpenMailAttachment_OnClick(self, self:GetID());
				end
			</OnClick>
			<OnEnter>
				OpenMailAttachment_OnEnter(self, self:GetID());
			</OnEnter>
			<OnUpdate>
				if ( GameTooltip:IsOwned(self) ) then
					OpenMailAttachment_OnEnter(self, self:GetID());
				end
			</OnUpdate>
			<OnLeave>
				GameTooltip:Hide();
				SetMoneyFrameColor("GameTooltipMoneyFrame1", "white");
			</OnLeave>
		</Scripts>
		<HighlightTexture alphaMode="ADD" file="Interface\Buttons\ButtonHilight-Square"/>
	</Button>
	<Frame name="MailFrameContainerTemplate" inherits="StandartInsetFrameTemplate" virtual="true">
		<Layers>
			<Layer level="BORDER">
				<Texture name="$parentBackgroundTile" parentKey="BackgroundTile" file="Interface\Store\CollectionsBackgroundTile" vertTile="true" horizTile="true">
					<Size x="256" y="256"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="4" y="-4" />
						<Anchor point="BOTTOMRIGHT" x="-4" y="4"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="ShadowOverlay" inherits="ShadowOverlaySmallTemplate" toplevel="true">
				<Anchors>
					<Anchor point="TOPLEFT" x="2" y="-2"/>
					<Anchor point="BOTTOMRIGHT" x="-2" y="0"/>
				</Anchors>
				<Scripts>
					<OnShow>
						self:SetFrameLevel(self:GetParent():GetFrameLevel() + 2)
					</OnShow>
				</Scripts>
			</Frame>
		</Frames>
	</Frame>

	<Frame name="MailFrame" toplevel="true" parent="UIParent" enableMouse="true" hidden="true" inherits="ButtonFrameTemplate_NineSlice">
		<Size x="666‬" y="424"/>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="-1">
				<Texture file="Interface\MailFrame\Mail-Icon">
					<Size x="58" y="58"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="-5" y="7"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame name="InboxFrame" enableMouse="true">
				<Anchors>
					<Anchor point="TOPLEFT" x="2" y="-60"/>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-2" y="2"/>
				</Anchors>
				<Frames>
					<Button name="$parentTutorialButton" parentKey="TutorialButton" inherits="MainHelpPlateButton" toplevel="true">
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="MailFrame" x="38" y="20" />
						</Anchors>
						<Scripts>
							<OnClick function="InboxFrame_ToggleTutorial" />
						</Scripts>
					</Button>
					<Frame name="$parentWaitFrame" parentKey="WaitFrame" toplevel="true" enableMouse="true" setAllPoints="true" hidden="true">
						<Layers>
							<Layer level="ARTWORK">
								<Texture name="$parentBackground" parentKey="Background">
									<Color r="0" g="0" b="0" a="0.7"/>
								</Texture>
							</Layer>
						</Layers>
						<Frames>
							<Frame name="$parentSpinner" parentKey="Spinner" inherits="LoadingSpinnerTemplate">
								<Anchors>
									<Anchor point="CENTER" x="0" y="10" />
								</Anchors>
								<Scripts>
									<OnLoad>
										self.showRetrievingText = true
										self.Text:SetText(MAIL_OPENING_WAIT_TITLE)
										self.Text:SetTextColor(HIGHLIGHT_FONT_COLOR.r, HIGHLIGHT_FONT_COLOR.g, HIGHLIGHT_FONT_COLOR.b)
										self.Dots:SetTextColor(HIGHLIGHT_FONT_COLOR.r, HIGHLIGHT_FONT_COLOR.g, HIGHLIGHT_FONT_COLOR.b)
									</OnLoad>
									<OnShow>
										self.Text:Show()
										self.Dots:Show()

										self.AnimFrame.Anim:Play()

										CloseDropDownMenus()
									</OnShow>
									<OnHide>
										self.AnimFrame.Anim:Stop()

										CloseDropDownMenus()
									</OnHide>
								</Scripts>
							</Frame>
						</Frames>
					</Frame>
					<Frame name="$parentLeftContainer" parentKey="LeftContainer" inherits="MailFrameContainerTemplate">
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0" />
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture name="$parentClassLogo" parentKey="ClassLogo" alpha="0.6">
									<Anchors>
										<Anchor point="CENTER" x="0" y="0" />
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Frames>
							<Frame name="MailItem1" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="8" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem2" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem1" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem3" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem2" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem4" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem3" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem5" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem4" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem6" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem5" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Button name="InboxPrevPageButton" parentKey="PrevPageButton">
								<Size x="32" y="32"/>
								<Anchors>
									<Anchor point="BOTTOMLEFT" x="8" y="6"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self:Disable()
									</OnLoad>
									<OnClick function="InboxPrevPage"/>
								</Scripts>
								<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Up"/>
								<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Down"/>
								<DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Disabled"/>
								<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
							</Button>
							<Button name="OpenAllMailButton" text="OPEN_ALL_MAIL_BUTTON" inherits="UIPanelButtonTemplate">
								<Size x="180" y="28"/>
								<Anchors>
									<Anchor point="BOTTOM" x="-16" y="8" />
								</Anchors>
								<Scripts>
									<OnLoad>
										Mixin(self, MailManagmentMixin)

										self:OnLoad()
									</OnLoad>
									<OnEvent>
										self:OnEvent(event, ...)
									</OnEvent>
									<OnClick>
										self:OnClick()
									</OnClick>
									<OnUpdate>
										self:OnUpdate(elapsed)
									</OnUpdate>
									<OnHide>
										self:OnHide()
									</OnHide>
								</Scripts>
							</Button>
							<Button name="AdditionalMailFunctionalButton">
								<Size x="32" y="32"/>
								<Anchors>
									<Anchor point="LEFT" relativeTo="OpenAllMailButton" relativePoint="RIGHT" x="0" y="0" />
								</Anchors>
								<Frames>
									<Frame name="AdditionalMailFunctionalDropDown" inherits="UIDropDownMenuTemplate"/>
								</Frames>
								<Scripts>
									<OnLoad>
										Mixin(self, AdditionalMailFunctionalMixin)

										self:OnLoad()
									</OnLoad>
									<OnClick>
										ToggleDropDownMenu(1, nil, AdditionalMailFunctionalDropDown, self:GetName(), 0, 0)
									</OnClick>
								</Scripts>
								<NormalTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Up"/>
								<PushedTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Down"/>
								<DisabledTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Disabled"/>
								<HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
							</Button>
						</Frames>
						<Scripts>
							<OnShow>
								local _, classFile = UnitClass("player")
								self.ClassLogo:SetAtlas("legionmission-landingpage-background-"..string.lower(classFile), true)
							</OnShow>
						</Scripts>
					</Frame>
					<Frame name="$parentRightContainer" parentKey="RightContainer" inherits="MailFrameContainerTemplate">
						<Anchors>
							<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="0" y="0" />
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture name="$parentFactionLogo" parentKey="FactionLogo">
									<Anchors>
										<Anchor point="CENTER" x="0" y="0" />
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Frames>
							<Frame name="MailItem7" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="8" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem8" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem7" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem9" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem8" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem10" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem9" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem11" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem10" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Frame name="MailItem12" inherits="MailItemTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="MailItem11" relativePoint="BOTTOM" x="0" y="-8" />
								</Anchors>
							</Frame>
							<Button name="InboxNextPageButton" parentKey="NextPageButton">
								<Size x="32" y="32"/>
								<Anchors>
									<Anchor point="BOTTOMRIGHT" x="-8" y="6"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self:Disable()
									</OnLoad>
									<OnClick function="InboxNextPage"/>
								</Scripts>
								<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Up"/>
								<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Down"/>
								<DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Disabled"/>
								<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
							</Button>
							<Button name="UpdateMailButton" inherits="UIPanelButtonTemplate" text="MAIL_LIST_UPDATE">
								<Size x="180" y="28"/>
								<Anchors>
									<Anchor point="BOTTOM" x="0" y="8" />
								</Anchors>
								<Scripts>
									<OnLoad>
										Mixin(self, MailListUpdateMixin)
									</OnLoad>
									<OnShow>
										self:OnShow()
									</OnShow>
									<OnClick>
										self:OnClick()
									</OnClick>
									<OnUpdate>
										self:OnUpdate(elapsed)
									</OnUpdate>
								</Scripts>
							</Button>
						</Frames>
						<Scripts>
							<OnShow>
								local faction = UnitFactionGroup("player") or "Alliance"
								self.FactionLogo:SetAtlas("BfAMissionsLandingPage-Background-"..faction, true)
							</OnShow>
						</Scripts>
					</Frame>
					<Frame name="InboxTooMuchMail" hidden="true" enableMouse="true">
						<Size x="384" y="32"/>
						<Anchors>
							<Anchor point="TOP" x="0" y="34"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<FontString name="$parentText" inherits="GameFontNormal" text="INBOX_TOO_MUCH_MAIL">
									<Anchors>
										<Anchor point="CENTER" x="16" y="0"/>
									</Anchors>
									<Color r="1.0" g="0.1" b="0.1" a="1.0"/>
								</FontString>
								<Texture file="Interface\DialogFrame\UI-Dialog-Icon-AlertNew">
									<Size x="32" y="32"/>
									<Anchors>
										<Anchor point="RIGHT" relativeTo="$parentText" relativePoint="LEFT" x="0" y="-2"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad>
								self:SetWidth(InboxTooMuchMailText:GetWidth() + 32);
							</OnLoad>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
								GameTooltip:SetText(INBOX_TOO_MUCH_MAIL_TOOLTIP);
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Frame>
				</Frames>
				<Scripts>
					<OnShow>
						MailFrame:CalculateInboxContainerSize()
					</OnShow>
					<OnHide>
						HelpPlate_Hide()
						InboxFrame.WaitFrame:Hide()
					</OnHide>
					<OnMouseWheel function="InboxFrame_OnMouseWheel"/>
				</Scripts>
			</Frame>
			<Frame name="SendMailFrame" hidden="true">
				<Size x="384" y="512"/>
				<Anchors>
					<Anchor point="TOPLEFT"/>
				</Anchors>
				<Frames>
					<Frame name="$parentContent" parentKey="Content" setAllPoints="true">
						<Layers>
							<Layer level="BACKGROUND">
								<FontString name="SendMailErrorText" inherits="GameFontRedSmall" hidden="true">
									<Size x="0" y="10"/>
								</FontString>
								<Texture name="SendMailErrorCoin" file="Interface\MoneyFrame\UI-MoneyIcons" hidden="true">
									<Size x="10" y="10"/>
									<Anchors>
										<Anchor point="LEFT" relativeTo="SendMailErrorText" relativePoint="RIGHT" x="1" y="-1"/>
									</Anchors>
									<TexCoords left="0" right="0.25" top="0" bottom="1"/>
								</Texture>
								<Texture name="SendMailHorizontalBarLeft" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
									<Size x="256" y="16"/>
									<Anchors>
										<Anchor point="TOPLEFT" x="2" y="-337"/>
									</Anchors>
									<TexCoords left="0" right="1.0" top="0" bottom="0.25"/>
								</Texture>
								<Texture name="SendMailHorizontalBarRight" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
									<Size x="75" y="16"/>
									<Anchors>
										<Anchor point="LEFT" relativeTo="SendMailHorizontalBarLeft" relativePoint="RIGHT" x="0" y="0"/>
									</Anchors>
									<TexCoords left="0" right="0.29296875" top="0.25" bottom="0.5"/>
								</Texture>
								<Texture name="SendMailHorizontalBarLeft2" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
									<Size x="256" y="16"/>
									<Anchors>
										<Anchor point="TOPLEFT" x="5" y="-251"/>
									</Anchors>
									<TexCoords left="0" right="1.0" top="0" bottom="0.25"/>
								</Texture>
								<Texture name="SendMailHorizontalBarRight2" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
									<Size x="75" y="16"/>
									<Anchors>
										<Anchor point="LEFT" relativeTo="SendMailHorizontalBarLeft2" relativePoint="RIGHT" x="0" y="0"/>
									</Anchors>
									<TexCoords left="0" right="0.29296875" top="0.25" bottom="0.5"/>
								</Texture>
							</Layer>
						</Layers>
						<Frames>
							<ScrollFrame name="SendMailScrollFrame" inherits="UIPanelScrollFrameTemplate">
								<Size x="296" y="257"/>
								<Anchors>
									<Anchor point="TOPLEFT" x="8" y="-83"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<Texture name="SendStationeryBackgroundLeft">
											<Size x="252" y="256"/>
											<Anchors>
												<Anchor point="TOPLEFT"/>
											</Anchors>
										</Texture>
										<Texture name="SendStationeryBackgroundRight">
											<Size x="64" y="256"/>
											<Anchors>
												<Anchor point="TOPLEFT" relativeTo="SendStationeryBackgroundLeft" relativePoint="TOPRIGHT"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="ARTWORK">
										<Texture name ="SendScrollBarBackgroundTop" file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
											<Size x="31" y="256"/>
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="5"/>
											</Anchors>
											<TexCoords left="0" right="0.484375" top="0" bottom="1.0"/>
										</Texture>
										<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
											<Size x="31" y="106"/>
											<Anchors>
												<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-2" y="-2"/>
											</Anchors>
											<TexCoords left="0.515625" right="1.0" top="0" bottom="0.4140625"/>
										</Texture>
									</Layer>
								</Layers>
								<ScrollChild>
									<Frame name="SendMailScrollChildFrame" enableMouse="true">
										<Size x="300" y="255"/>
										<Anchors>
											<Anchor point="TOPLEFT" x="0" y="0"/>
										</Anchors>
										<Frames>
											<EditBox name="SendMailBodyEditBox" letters="500" multiLine="true" enableMouse="true" autoFocus="false">
												<Size x="270" y="200"/>
												<Anchors>
													<Anchor point="TOPLEFT" x="20" y="-10"/>
												</Anchors>
												<Scripts>
													<OnTextChanged>
														ScrollingEdit_OnTextChanged(self, self:GetParent():GetParent());
													</OnTextChanged>
													<OnCursorChanged>
														ScrollingEdit_OnCursorChanged(self, x, y-10, w, h);
													</OnCursorChanged>
													<OnUpdate>
														ScrollingEdit_OnUpdate(self, elapsed, self:GetParent():GetParent());
													</OnUpdate>
													<OnTabPressed>
														EditBox_HandleTabbing(self, SEND_MAIL_TAB_LIST);
													</OnTabPressed>
													<OnEscapePressed function="EditBox_ClearFocus"/>
												</Scripts>
												<FontString inherits="MailTextFontNormal"/>
												<HighlightColor a="1.0" r="0.82" g="0.82" b="0.82"/>
											</EditBox>
										</Frames>
										<Scripts>
											<OnMouseUp>
												SendMailBodyEditBox:SetFocus();
												if ( CursorHasItem() ) then
												SendMailAttachmentButton_OnDropAny();
												end
											</OnMouseUp>
										</Scripts>
									</Frame>
								</ScrollChild>
							</ScrollFrame>
							<EditBox name="SendMailNameEditBox" letters="77" historyLines="0" autoFocus="false" inherits="AutoCompleteEditBoxTemplate">
								<Size x="109" y="25"/>
								<Anchors>
									<Anchor point="TOPLEFT" x="90" y="-30"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<FontString inherits="GameFontNormal" text="MAIL_TO_LABEL" justifyH="RIGHT">
											<Anchors>
												<Anchor point="RIGHT" relativePoint="LEFT" x="-12" y="0"/>
											</Anchors>
										</FontString>
										<Texture name="$parentLeft" file="Interface\Common\Common-Input-Border">
											<Size x="8" y="20"/>
											<Anchors>
												<Anchor point="TOPLEFT" x="-8" y="0"/>
											</Anchors>
											<TexCoords left="0" right="0.0625" top="0" bottom="0.625"/>
										</Texture>
										<Texture name="$parentMiddle" file="Interface\Common\Common-Input-Border">
											<Size x="100" y="20"/>
											<Anchors>
												<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT"/>
											</Anchors>
											<TexCoords left="0.0625" right="0.9375" top="0" bottom="0.625"/>
										</Texture>
										<Texture name="$parentRight" file="Interface\Common\Common-Input-Border">
											<Size x="8" y="20"/>
											<Anchors>
												<Anchor point="LEFT" relativeTo="$parentMiddle" relativePoint="RIGHT"/>
											</Anchors>
											<TexCoords left="0.9375" right="1.0" top="0" bottom="0.625"/>
										</Texture>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad>
										self.autoCompleteParams = AUTOCOMPLETE_LIST.MAIL;
										self.addHighlightedText = true;
									</OnLoad>
									<OnTabPressed>
										if ( not AutoCompleteEditBox_OnTabPressed(self) ) then
										EditBox_HandleTabbing(self, SEND_MAIL_TAB_LIST);
										end
									</OnTabPressed>
									<OnEditFocusLost>
										AutoCompleteEditBox_OnEditFocusLost(self);
										EditBox_ClearHighlight(self)
									</OnEditFocusLost>
									<OnEnterPressed>
										if ( not AutoCompleteEditBox_OnEnterPressed(self) ) then
										SendMailSubjectEditBox:SetFocus();
										end
									</OnEnterPressed>
									<OnEscapePressed>
										if ( not AutoCompleteEditBox_OnEscapePressed(self) ) then
										EditBox_ClearFocus(self);
										end
									</OnEscapePressed>
									<OnTextChanged>
										AutoCompleteEditBox_OnTextChanged(self, userInput);
										SendMailFrame_CanSend(self);
									</OnTextChanged>
								</Scripts>
								<FontString inherits="ChatFontNormal"/>
							</EditBox>
							<Frame name="SendMailCostMoneyFrame" inherits="SmallMoneyFrameTemplate">
								<Anchors>
									<Anchor point="TOPRIGHT" x="-50" y="-34"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<FontString inherits="GameFontNormal" text="SEND_MAIL_COST">
											<Anchors>
												<Anchor point="RIGHT" relativePoint="LEFT" x="-3" y="0"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad>
										SmallMoneyFrame_OnLoad(self);
										MoneyFrame_SetType(self, "STATIC");
										MoneyFrame_Update("SendMailCostMoneyFrame", GetSendMailPrice());
									</OnLoad>
								</Scripts>
							</Frame>
							<EditBox name="SendMailSubjectEditBox" letters="64" historyLines="0" autoFocus="false">
								<Size x="220" y="20"/>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="SendMailNameEditBox" relativePoint="BOTTOMLEFT"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<FontString inherits="GameFontNormal" text="MAIL_SUBJECT_LABEL" justifyH="RIGHT">
											<Anchors>
												<Anchor point="RIGHT" relativePoint="LEFT" x="-12" y="0"/>
											</Anchors>
										</FontString>
										<Texture name="$parentLeft" file="Interface\Common\Common-Input-Border">
											<Size x="8" y="20"/>
											<Anchors>
												<Anchor point="TOPLEFT" x="-8" y="0"/>
											</Anchors>
											<TexCoords left="0" right="0.0625" top="0" bottom="0.625"/>
										</Texture>
										<Texture name="$parentMiddle" file="Interface\Common\Common-Input-Border">
											<Size x="221" y="20"/>
											<Anchors>
												<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT"/>
											</Anchors>
											<TexCoords left="0.0625" right="0.9375" top="0" bottom="0.625"/>
										</Texture>
										<Texture name="$parentRight" file="Interface\Common\Common-Input-Border">
											<Size x="8" y="20"/>
											<Anchors>
												<Anchor point="LEFT" relativeTo="$parentMiddle" relativePoint="RIGHT"/>
											</Anchors>
											<TexCoords left="0.9375" right="1.0" top="0" bottom="0.625"/>
										</Texture>
									</Layer>
								</Layers>
								<Scripts>
									<OnTabPressed>
										EditBox_HandleTabbing(self, SEND_MAIL_TAB_LIST);
									</OnTabPressed>
									<OnEnterPressed>
										SendMailBodyEditBox:SetFocus();
									</OnEnterPressed>
									<OnEscapePressed function="EditBox_ClearFocus"/>
									<OnTextChanged function="SendMailFrame_CanSend"/>
								</Scripts>
								<FontString inherits="ChatFontNormal"/>
							</EditBox>
							<Button name="SendMailAttachment1" inherits="SendMailAttachment" id="1"/>
							<Button name="SendMailAttachment2" inherits="SendMailAttachment" id="2"/>
							<Button name="SendMailAttachment3" inherits="SendMailAttachment" id="3"/>
							<Button name="SendMailAttachment4" inherits="SendMailAttachment" id="4"/>
							<Button name="SendMailAttachment5" inherits="SendMailAttachment" id="5"/>
							<Button name="SendMailAttachment6" inherits="SendMailAttachment" id="6"/>
							<Button name="SendMailAttachment7" inherits="SendMailAttachment" id="7"/>
							<Button name="SendMailAttachment8" inherits="SendMailAttachment" id="8"/>
							<Button name="SendMailAttachment9" inherits="SendMailAttachment" id="9"/>
							<Button name="SendMailAttachment10" inherits="SendMailAttachment" id="10"/>
							<Button name="SendMailAttachment11" inherits="SendMailAttachment" id="11"/>
							<Button name="SendMailAttachment12" inherits="SendMailAttachment" id="12"/>
							<Button name="SendMailAttachment13" inherits="SendMailAttachment" id="13"/>
							<Button name="SendMailAttachment14" inherits="SendMailAttachment" id="14"/>
							<Button name="SendMailAttachment15" inherits="SendMailAttachment" id="15"/>
							<Button name="SendMailAttachment16" inherits="SendMailAttachment" id="16"/>
							<Frame name="SendMailMoneyButton">
								<Size x="37" y="37"/>
								<Anchors>
									<Anchor point="BOTTOMLEFT" x="15" y="125"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<FontString name="SendMailMoneyText" inherits="GameFontNormalSmall" text="SEND_MONEY">
											<Anchors>
												<Anchor point="TOPLEFT" x="0" y="-5"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<Frame name="SendMailMoney" inherits="MoneyInputFrameTemplate">
										<Anchors>
											<Anchor point="TOPLEFT" relativeTo="SendMailMoneyText" relativePoint="BOTTOMLEFT" x="5" y="-3"/>
										</Anchors>
										<Scripts>
											<OnLoad>
												MoneyInputFrame_SetOnValueChangedFunc(self, SendMailFrame_CanSend);
											</OnLoad>
										</Scripts>
									</Frame>
									<CheckButton name="SendMailSendMoneyButton" inherits="SendMailRadioButtonTemplate" id="1">
										<Anchors>
											<Anchor point="TOPLEFT" relativeTo="SendMailMoney" relativePoint="TOPRIGHT" x="0" y="12"/>
										</Anchors>
										<Scripts>
											<OnLoad>
												_G[self:GetName().."Text"]:SetText(SEND_MONEY);
											</OnLoad>
										</Scripts>
									</CheckButton>
									<CheckButton name="SendMailCODButton" inherits="SendMailRadioButtonTemplate" id="2">
										<Anchors>
											<Anchor point="TOPLEFT" relativeTo="SendMailSendMoneyButton" relativePoint="BOTTOMLEFT" x="0" y="1"/>
										</Anchors>
										<Scripts>
											<OnLoad>
												_G[self:GetName().."Text"]:SetText(COD);
											</OnLoad>
										</Scripts>
									</CheckButton>
								</Frames>
							</Frame>
							<Frame name="SendMailMoneyInset" inherits="InsetFrameTemplate" useParentLevel="true">
								<Anchors>
									<Anchor point="BOTTOMLEFT" x="4" y="92"/>
									<Anchor point="TOPRIGHT" relativePoint="BOTTOMLEFT" x="170" y="115"/>
								</Anchors>
							</Frame>
							<Frame name="SendMailMoneyBg" inherits="ThinGoldEdgeTemplate" >
								<Size x="120" y="30"/>
								<Anchors>
									<Anchor point="TOPRIGHT" relativePoint="BOTTOMLEFT" x="166" y="113"/>
									<Anchor point="BOTTOMLEFT" x="7" y="94"/>
								</Anchors>
							</Frame>
							<Frame name="SendMailMoneyFrame" inherits="SmallMoneyFrameTemplate">
								<Anchors>
									<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMLEFT" x="175" y="96"/>
								</Anchors>
							</Frame>
							<Button name="SendMailCancelButton" inherits="UIPanelButtonTemplate" text="CANCEL">
								<Size x="80" y="22"/>
								<Anchors>
									<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-53" y="92"/>
								</Anchors>
								<Scripts>
									<OnClick>
										HideUIPanel(MailFrame);
									</OnClick>
								</Scripts>
							</Button>
							<Button name="SendMailMailButton" inherits="UIPanelButtonTemplate" text="SEND_LABEL">
								<Size x="80" y="22"/>
								<Anchors>
									<Anchor point="RIGHT" relativeTo="SendMailCancelButton" relativePoint="LEFT" x="0" y="0"/>
								</Anchors>
								<Scripts>
									<OnClick function="SendMailMailButton_OnClick"/>
								</Scripts>
							</Button>
							<Frame name="SendMailFrameLockSendMail" hidden="true" enableMouse="true">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="SendMailAttachment1" relativePoint="TOPLEFT" x="-15" y="5"/>
									<Anchor point="BOTTOMRIGHT" relativeTo="SendMailCancelButton" relativePoint="BOTTOMRIGHT" x="2" y="-2"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<Texture name="$parentBlackFilter" setAllPoints="true">
											<Color r="0" b="0" g="0" a="0.7"/>
										</Texture>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad>
										self:SetFrameLevel(SendMailMoneyFrame:GetFrameLevel() + 3);
									</OnLoad>
								</Scripts>
							</Frame>
						</Frames>
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad>
						SendMailErrorText:SetPoint("BOTTOMLEFT", "SendMailMoneyText", "TOPLEFT", 0, 2);
						SendMailRadioButton_OnClick(self, 1);
					</OnLoad>
					<OnShow>
						if ( ENABLE_COLORBLIND_MODE == "1" ) then
						SendMailErrorText:SetFormattedText(MAIL_COD_ERROR_COLORBLIND, MAX_COD_AMOUNT, GOLD_AMOUNT_SYMBOL);
						else
						SendMailErrorText:SetFormattedText(MAIL_COD_ERROR, MAX_COD_AMOUNT);
						end
						SendMailNameEditBox:SetFocus();
					</OnShow>
					<OnMouseUp>
						if ( CursorHasItem() ) then
						SendMailAttachmentButton_OnDropAny();
						end
					</OnMouseUp>
				</Scripts>
			</Frame>
			<Button name="MailFrameTab1" inherits="FriendsFrameTabTemplate" id="1" text="INBOX">
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="14" y="-30"/>
				</Anchors>
				<Scripts>
					<OnClick>
						MailFrameTab_OnClick(self, 1);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="MailFrameTab2" inherits="FriendsFrameTabTemplate" id="2" text="SENDMAIL">
				<Anchors>
					<Anchor point="LEFT" relativeTo="MailFrameTab1" relativePoint="RIGHT" x="-8" y="0"/>
				</Anchors>
				<Scripts>
					<OnClick>
						MailFrameTab_OnClick(self, 2);
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad function="MailFrame_OnLoad"/>
			<OnEvent function="MailFrame_OnEvent"/>
			<OnHide>
				CloseMail();
				HideUIPanel(OpenMailFrame);
				StationeryPopupFrame:Hide();
				SendMailBodyEditBox:SetText("");
				SendMailNameEditBox:SetText("");
				SendMailSubjectEditBox:SetText("");
				PlaySound("igCharacterInfoClose");
				SetSendMailShowing(false);
			</OnHide>
		</Scripts>
	</Frame>
	<!-- Stationery Popup -->
	<Frame name="StationeryPopupFrame" toplevel="true" parent="UIParent" movable="true" enableMouse="true" hidden="true">
		<Size>
			<AbsDimension x="220" y="298"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT" relativeTo="MailFrame" relativePoint="TOPRIGHT">
				<Offset>
					<AbsDimension x="-30" y="-40"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\MailFrame\MailPopup-Top">
					<Size>
						<AbsDimension x="256" y="256"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
				</Texture>
				<Texture file="Interface\MailFrame\MailPopup-Bottom">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="0" y="-256"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
				<FontString inherits="GameFontHighlightSmall" text="CHOOSE_STATIONERY">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="24" y="-21"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<ScrollFrame name="StationeryPopupScrollFrame" inherits="FauxScrollFrameTemplate">
				<Size>
					<AbsDimension x="200" y="250"/>
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-38" y="-13"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
							<Size>
								<AbsDimension x="30" y="120"/>
							</Size>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
									<Offset>
										<AbsDimension x="-3" y="2"/>
									</Offset>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.46875" top="0.0234375" bottom="0.9609375"/>
						</Texture>
						<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
							<Size>
								<AbsDimension x="30" y="123"/>
							</Size>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT">
									<Offset>
										<AbsDimension x="-3" y="-2"/>
									</Offset>
								</Anchor>
							</Anchors>
							<TexCoords left="0.53125" right="1.0" top="0.03125" bottom="1.0"/>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnVerticalScroll>
						FauxScrollFrame_OnVerticalScroll(self, offset, STATIONERY_ICON_ROW_HEIGHT, StationeryPopupFrame_Update);
					</OnVerticalScroll>
				</Scripts>
			</ScrollFrame>
			<CheckButton name="StationeryPopupButton1" inherits="StationeryPopupButtonTemplate" id="1">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="24" y="-37"/>
						</Offset>
					</Anchor>
				</Anchors>
			</CheckButton>
			<CheckButton name="StationeryPopupButton2" inherits="StationeryPopupButtonTemplate" id="2">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="StationeryPopupButton1" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="0" y="-9"/>
						</Offset>
					</Anchor>
				</Anchors>
			</CheckButton>
			<CheckButton name="StationeryPopupButton3" inherits="StationeryPopupButtonTemplate" id="3">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="StationeryPopupButton2" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="0" y="-9"/>
						</Offset>
					</Anchor>
				</Anchors>
			</CheckButton>
			<CheckButton name="StationeryPopupButton4" inherits="StationeryPopupButtonTemplate" id="4">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="StationeryPopupButton3" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="0" y="-9"/>
						</Offset>
					</Anchor>
				</Anchors>
			</CheckButton>
			<CheckButton name="StationeryPopupButton5" inherits="StationeryPopupButtonTemplate" id="5">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="StationeryPopupButton4" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="0" y="-9"/>
						</Offset>
					</Anchor>
				</Anchors>
			</CheckButton>
			<Button name="StationeryPopupCancelButton" inherits="UIPanelButtonTemplate" text="CANCEL">
				<Size>
					<AbsDimension x="78" y="22"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativeTo="StationeryPopupFrame">
						<Offset>
							<AbsDimension x="-11" y="13"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick function="HideParentPanel"/>
				</Scripts>
			</Button>
			<Button name="StationeryPopupOkayButton" inherits="UIPanelButtonTemplate" text="OKAY">
				<Size>
					<AbsDimension x="78" y="22"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="StationeryPopupCancelButton" relativePoint="LEFT">
						<Offset>
							<AbsDimension x="-11" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick function="HideParentPanel"/>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnShow function="StationeryPopupFrame_Update"/>
			<OnHide>
				PlaySound("igCharacterInfoClose");
			</OnHide>
		</Scripts>
	</Frame>
<!-- Open Mail -->
	<Frame name="OpenMailFrame" toplevel="true" hidden="true" parent="UIParent" enableMouse="true" inherits="ButtonFrameTemplate_NineSlice">
		<Anchors>
			<Anchor point="TOPLEFT" relativeTo="MailFrame" relativePoint="TOPRIGHT" x="20" y="0"/>
		</Anchors>
		<Frames>
			<Frame name="$parentContent" parentKey="Content" toplevel="true" setAllPoints="true">
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="OpenMailAttachmentText" inherits="GameFontHighlightSmall" text="TAKE_ATTACHMENTS">
							<Size x="0" y="0"/>
						</FontString>
						<FontString name="OpenMailSenderLabel" inherits="GameFontHighlight" text="FROM">
							<Size x="0" y="16"/>
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="TOPLEFT" x="105" y="-33"/>
							</Anchors>
						</FontString>
						<FontString name="OpenMailSender" inherits="GameFontNormal" justifyH="LEFT">
							<Size x="225" y="0"/>
							<Anchors>
								<Anchor point="LEFT" relativeTo="OpenMailSenderLabel" relativePoint="RIGHT" x="5" y="0"/>
							</Anchors>
						</FontString>
						<FontString name="OpenMailSubjectLabel" inherits="GameFontHighlight" text="MAIL_SUBJECT_LABEL">
							<Size x="0" y="16"/>
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="TOPLEFT" x="105" y="-55"/>
							</Anchors>
						</FontString>
						<FontString name="OpenMailSubject" inherits="GameFontNormalSmall" justifyH="LEFT" justifyV="TOP">
							<Size x="225" y="16"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="OpenMailSubjectLabel" relativePoint="TOPRIGHT" x="5" y="-4"/>
							</Anchors>
						</FontString>
						<Texture name="OpenMailHorizontalBarLeft" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
							<Size x="256" y="16"/>
							<Anchors>
								<Anchor point="TOPLEFT" x="15" y="-450"/>
							</Anchors>
							<TexCoords left="0" right="1.0" top="0" bottom="0.25"/>
						</Texture>
						<Texture name="OpenMailHorizontalBarRight" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
							<Size x="75" y="16"/>
							<Anchors>
								<Anchor point="LEFT" relativeTo="OpenMailHorizontalBarLeft" relativePoint="RIGHT" x="0" y="0"/>
							</Anchors>
							<TexCoords left="0" right="0.29296875" top="0.25" bottom="0.5"/>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Button name="OpenMailReportSpamButton" inherits="UIPanelButtonTemplate" text="REPORT_SPAM">
						<Size x="120" y="22"/>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeTo="OpenMailFrame" x="-12" y="-32"/>
						</Anchors>
						<Scripts>
							<OnClick function="OpenMail_ReportSpam"/>
						</Scripts>
					</Button>
					<ScrollFrame name="OpenMailScrollFrame" inherits="UIPanelScrollFrameTemplate">
						<Size x="296" y="257"/>
						<Anchors>
							<Anchor point="TOPLEFT" x="8" y="-84"/>
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture name="OpenScrollBarBackgroundTop" file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
									<Size>
										<AbsDimension x="31" y="256"/>
									</Size>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
											<Offset>
												<AbsDimension x="-2" y="5"/>
											</Offset>
										</Anchor>
									</Anchors>
									<TexCoords left="0" right="0.484375" top="0" bottom="1.0"/>
								</Texture>
								<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
									<Size>
										<AbsDimension x="31" y="106"/>
									</Size>
									<Anchors>
										<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT">
											<Offset>
												<AbsDimension x="-2" y="-2"/>
											</Offset>
										</Anchor>
									</Anchors>
									<TexCoords left="0.515625" right="1.0" top="0" bottom="0.4140625"/>
								</Texture>
							</Layer>
							<Layer level="BACKGROUND">
								<Texture name="OpenStationeryBackgroundLeft">
									<Size>
										<AbsDimension x="252" y="256"/>
									</Size>
									<Anchors>
										<Anchor point="TOPLEFT"/>
									</Anchors>
								</Texture>
								<Texture name="OpenStationeryBackgroundRight">
									<Size>
										<AbsDimension x="64" y="256"/>
									</Size>
									<Anchors>
										<Anchor point="TOPLEFT" relativeTo="OpenStationeryBackgroundLeft" relativePoint="TOPRIGHT"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<ScrollChild>
							<Frame name="OpenMailScrollChildFrame">
								<Size>
									<AbsDimension x="296" y="255"/>
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT">
										<Offset>
											<AbsDimension x="0" y="0"/>
										</Offset>
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<FontString name="OpenMailBodyText" inherits="MailTextFontNormal" nonspacewrap="true">
											<Size>
												<AbsDimension x="276" y="0"/>
											</Size>
											<Anchors>
												<Anchor point="TOPLEFT">
													<Offset>
														<AbsDimension x="10" y="-10"/>
													</Offset>
												</Anchor>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<Frame name="OpenMailInvoiceFrame" setAllPoints="true">
										<Layers>
											<Layer level="BACKGROUND">
												<FontString name="OpenMailInvoiceItemLabel" inherits="InvoiceTextFontNormal" text="ITEM_SOLD_COLON">
													<Size>
														<AbsDimension x="240" y="0"/>
													</Size>
													<Anchors>
														<Anchor point="TOPLEFT">
															<Offset>
																<AbsDimension x="30" y="-35"/>
															</Offset>
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="OpenMailInvoicePurchaser" inherits="InvoiceTextFontNormal" text="PURCHASED_BY_COLON">
													<Anchors>
														<Anchor point="TOPLEFT" relativeTo="OpenMailInvoiceItemLabel" relativePoint="BOTTOMLEFT">
															<Offset>
																<AbsDimension x="0" y="-5"/>
															</Offset>
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="OpenMailInvoiceBuyMode" inherits="InvoiceTextFontSmall">
													<Anchors>
														<Anchor point="LEFT" relativeTo="OpenMailInvoicePurchaser" relativePoint="RIGHT">
															<Offset>
																<AbsDimension x="5" y="0"/>
															</Offset>
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="OpenMailInvoiceSalePrice" inherits="InvoiceTextFontNormal" text="SALE_PRICE_COLON">
													<Anchors>
														<Anchor point="TOPRIGHT" relativeTo="OpenMailInvoicePurchaser" relativePoint="BOTTOMLEFT">
															<Offset>
																<AbsDimension x="125" y="-26"/>
															</Offset>
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="OpenMailInvoiceDeposit" inherits="InvoiceTextFontNormal" text="DEPOSIT_COLON">
													<Anchors>
														<Anchor point="TOPRIGHT" relativeTo="OpenMailInvoiceSalePrice" relativePoint="BOTTOMRIGHT">
															<Offset>
																<AbsDimension x="0" y="-13"/>
															</Offset>
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="OpenMailInvoiceHouseCut" inherits="InvoiceTextFontNormal" text="AUCTION_HOUSE_CUT_COLON">
													<Anchors>
														<Anchor point="TOPRIGHT" relativeTo="OpenMailInvoiceDeposit" relativePoint="BOTTOMRIGHT">
															<Offset>
																<AbsDimension x="0" y="-13"/>
															</Offset>
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="OpenMailInvoiceAmountReceived" inherits="InvoiceTextFontNormal" text="AMOUNT_RECEIVED_COLON">
													<Anchors>
														<Anchor point="TOPRIGHT" relativeTo="OpenMailInvoiceHouseCut" relativePoint="BOTTOMRIGHT">
															<Offset>
																<AbsDimension x="0" y="-13"/>
															</Offset>
														</Anchor>
													</Anchors>
												</FontString>
												<Texture name="OpenMailArithmeticLine" file="Interface\MailFrame\UI-MailFrame-InvoiceLine">
													<Size>
														<AbsDimension x="256" y="32"/>
													</Size>
													<Anchors>
														<Anchor point="TOP" relativeTo="OpenMailInvoiceHouseCut" relativePoint="BOTTOMRIGHT">
															<Offset>
																<AbsDimension x="0" y="9"/>
															</Offset>
														</Anchor>
													</Anchors>
												</Texture>
												<FontString name="OpenMailInvoiceNotYetSent" inherits="InvoiceTextFontNormal" text="AUCTION_INVOICE_FUNDS_NOT_YET_SENT">
													<Anchors>
														<Anchor point="CENTER" relativeTo="OpenMailInvoicePurchaser" relativePoint="BOTTOMLEFT">
															<Offset>
																<AbsDimension x="128" y="-90"/>
															</Offset>
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="OpenMailInvoiceMoneyDelay" inherits="InvoiceTextFontNormal">
													<Anchors>
														<Anchor point="CENTER" relativeTo="OpenMailInvoicePurchaser" relativePoint="BOTTOMLEFT">
															<Offset>
																<AbsDimension x="128" y="-103"/>
															</Offset>
														</Anchor>
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<Frame name="OpenMailTransactionAmountMoneyFrame" inherits="SmallMoneyFrameTemplate">
												<Anchors>
													<Anchor point="RIGHT" relativeTo="OpenMailInvoiceAmountReceived" relativePoint="RIGHT">
														<Offset>
															<AbsDimension x="130" y="0"/>
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														SmallMoneyFrame_OnLoad(self);
														MoneyFrame_SetType(self, "AUCTION");
													</OnLoad>
												</Scripts>
											</Frame>
											<Frame name="OpenMailDepositMoneyFrame" inherits="SmallMoneyFrameTemplate">
												<Anchors>
													<Anchor point="RIGHT" relativeTo="OpenMailInvoiceDeposit" relativePoint="RIGHT">
														<Offset>
															<AbsDimension x="130" y="0"/>
														</Offset>
													</Anchor>
												</Anchors>
												<Layers>
													<Layer level="BACKGROUND">
														<FontString inherits="InvoiceTextFontNormal" text="+">
															<Anchors>
																<Anchor point="RIGHT" relativePoint="LEFT">
																	<Offset>
																		<AbsDimension x="-5" y="0"/>
																	</Offset>
																</Anchor>
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														SmallMoneyFrame_OnLoad(self);
														MoneyFrame_SetType(self, "AUCTION");
													</OnLoad>
												</Scripts>
											</Frame>
											<Frame name="OpenMailHouseCutMoneyFrame" inherits="SmallMoneyFrameTemplate">
												<Anchors>
													<Anchor point="RIGHT" relativeTo="OpenMailInvoiceHouseCut" relativePoint="RIGHT">
														<Offset>
															<AbsDimension x="130" y="0"/>
														</Offset>
													</Anchor>
												</Anchors>
												<Layers>
													<Layer level="BACKGROUND">
														<FontString inherits="InvoiceTextFontNormal" text="-">
															<Anchors>
																<Anchor point="RIGHT" relativePoint="LEFT">
																	<Offset>
																		<AbsDimension x="-5" y="0"/>
																	</Offset>
																</Anchor>
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														SmallMoneyFrame_OnLoad(self);
														MoneyFrame_SetType(self, "AUCTION");
													</OnLoad>
												</Scripts>
											</Frame>
											<Frame name="OpenMailSalePriceMoneyFrame" inherits="SmallMoneyFrameTemplate">
												<Anchors>
													<Anchor point="RIGHT" relativeTo="OpenMailInvoiceSalePrice" relativePoint="RIGHT">
														<Offset>
															<AbsDimension x="130" y="0"/>
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														SmallMoneyFrame_OnLoad(self);
														MoneyFrame_SetType(self, "AUCTION");
													</OnLoad>
												</Scripts>
											</Frame>
										</Frames>
									</Frame>
								</Frames>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<Button name="OpenMailLetterButton" inherits="ItemButtonTemplate">
						<Scripts>
							<OnLoad>
								self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
							</OnLoad>
							<OnClick>
								OpenMailFrame.updateButtonPositions = false;
								TakeInboxTextItem(InboxFrame.openMailID);
								PlaySound("igMainMenuOptionCheckBoxOn");
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
								GameTooltip:SetText(MAIL_LETTER_TOOLTIP);
							</OnEnter>
							<OnLeave function="GameTooltip_Hide"/>
						</Scripts>
						<HighlightTexture alphaMode="ADD" file="Interface\Buttons\ButtonHilight-Square"/>
					</Button>
					<Button name="OpenMailAttachmentButton1" inherits="OpenMailAttachment" id="1"/>
					<Button name="OpenMailAttachmentButton2" inherits="OpenMailAttachment" id="2"/>
					<Button name="OpenMailAttachmentButton3" inherits="OpenMailAttachment" id="3"/>
					<Button name="OpenMailAttachmentButton4" inherits="OpenMailAttachment" id="4"/>
					<Button name="OpenMailAttachmentButton5" inherits="OpenMailAttachment" id="5"/>
					<Button name="OpenMailAttachmentButton6" inherits="OpenMailAttachment" id="6"/>
					<Button name="OpenMailAttachmentButton7" inherits="OpenMailAttachment" id="7"/>
					<Button name="OpenMailAttachmentButton8" inherits="OpenMailAttachment" id="8"/>
					<Button name="OpenMailAttachmentButton9" inherits="OpenMailAttachment" id="9"/>
					<Button name="OpenMailAttachmentButton10" inherits="OpenMailAttachment" id="10"/>
					<Button name="OpenMailAttachmentButton11" inherits="OpenMailAttachment" id="11"/>
					<Button name="OpenMailAttachmentButton12" inherits="OpenMailAttachment" id="12"/>
					<Button name="OpenMailAttachmentButton13" inherits="OpenMailAttachment" id="13"/>
					<Button name="OpenMailAttachmentButton14" inherits="OpenMailAttachment" id="14"/>
					<Button name="OpenMailAttachmentButton15" inherits="OpenMailAttachment" id="15"/>
					<Button name="OpenMailAttachmentButton16" inherits="OpenMailAttachment" id="16"/>
					<Button name="OpenMailMoneyButton" inherits="ItemButtonTemplate">
						<Scripts>
							<OnLoad>
								self:RegisterEvent("MAIL_INBOX_UPDATE");
								self:RegisterForClicks("LeftButtonUp", "RightButtonUp");
							</OnLoad>
							<OnEvent>
								--GameTooltip:Hide();
								if ( GameTooltip:IsOwned(self) ) then
									if ( OpenMailFrame.money ) then
										GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
										SetTooltipMoney(GameTooltip, OpenMailFrame.money);
										GameTooltip:Show();
									end
								end
							</OnEvent>
							<OnClick>
								OpenMailFrame.updateButtonPositions = false;
								TakeInboxMoney(InboxFrame.openMailID);
							</OnClick>
							<OnEnter>
								if ( OpenMailFrame.money ) then
									GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
									SetTooltipMoney(GameTooltip, OpenMailFrame.money);
									GameTooltip:Show();
								end
							</OnEnter>
							<OnLeave function="GameTooltip_Hide"/>
						</Scripts>
						<HighlightTexture alphaMode="ADD" file="Interface\Buttons\ButtonHilight-Square"/>
					</Button>
					<Button name="OpenMailCancelButton" parentKey="CancelButton" inherits="MagicButtonTemplate" text="CLOSE">
						<Size x="80" y="22"/>
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-6" y="5"/>
						</Anchors>
						<Scripts>
							<OnClick>
								HideUIPanel(self:GetParent():GetParent())
							</OnClick>
						</Scripts>
					</Button>
					<Button name="OpenMailDeleteButton" parentKey="DeleteButton" inherits="MagicButtonTemplate" text="DELETE">
						<Size>
							<AbsDimension x="82" y="22"/>
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="OpenMailCancelButton" relativePoint="LEFT">
								<Offset>
									<AbsDimension x="0" y="0"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick function="OpenMail_Delete"/>
						</Scripts>
					</Button>
					<Button name="OpenMailReplyButton" parentKey="ReplyButton" inherits="MagicButtonTemplate" text="REPLY_MESSAGE">
						<Size>
							<AbsDimension x="82" y="22"/>
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="OpenMailDeleteButton" relativePoint="LEFT">
								<Offset>
									<AbsDimension x="0" y="0"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick function="OpenMail_Reply"/>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				Mixin(self, PortraitFrameMixin)
				PortraitFrameTemplate_SetTitle(self, OPENMAIL)
			</OnLoad>
			<OnShow>
				HideUIPanel(GetUIPanel("center"));
				HideUIPanel(GetUIPanel("right"));
			</OnShow>
			<OnHide function="OpenMailFrame_OnHide"/>
		</Scripts>
	</Frame>
</Ui>

